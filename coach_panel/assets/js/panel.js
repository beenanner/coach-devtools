"use strict";function outputResults(e){var t=document.getElementsByClassName("js-results")[0],n=document.getElementsByClassName("js-score")[0];t.innerHTML="",n.innerHTML="";var d=document.createDocumentFragment(),a=document.createDocumentFragment(),c=document.createDocumentFragment(),o=document.createTextNode(e.advice.score);c.appendChild(o),n.appendChild(c),colourScore(n,e.advice.score),delete e.advice.score;var i=Object.keys(e.advice).sort();i.forEach(function(t){var n,c,o;if(e.advice[t].adviceList)n=document.createElement("h2"),n.appendChild(document.createTextNode(t)),n.classList.add("js-toggle","toggle"),n.appendChild(createScore(e.advice[t].score)),d.appendChild(n),o=document.createElement("div"),o.classList.add("advice-section"),o.style.display="none",c=Object.keys(e.advice[t].adviceList).sort(),c.forEach(function(n){var d=e.advice[t].adviceList[n],a=document.createElement("h3");a.appendChild(document.createTextNode(d.title)),a.classList.add("js-toggle","toggle"),a.appendChild(createScore(d.score)),o.appendChild(a);var c=document.createElement("div");c.classList.add("advice-section","advice-sub-section"),c.style.display="none";var i=document.createElement("p");i.appendChild(document.createTextNode(d.advice)),c.appendChild(i);var s=document.createElement("p");if(s.classList.add("description"),s.appendChild(document.createTextNode(d.description)),c.appendChild(s),d.offending.length>0){var r=document.createElement("h4");r.appendChild(document.createTextNode("Offending Areas")),c.appendChild(r);var l=document.createElement("pre"),p=d.offending.join("\n");l.appendChild(document.createTextNode(p)),c.appendChild(l)}o.appendChild(c)}),d.appendChild(o);else{if(n=document.createElement("h2"),n.appendChild(document.createTextNode(t.toString())),n.classList.add("js-toggle","toggle"),a.appendChild(n),o=document.createElement("div"),o.classList.add("advice-section"),o.style.display="none","object"===_typeof(e.advice[t])){var i=document.createElement("pre");c=Object.keys(e.advice[t]).sort();var s=[];c.forEach(function(n){var d=e.advice[t][n];"object"===("undefined"==typeof d?"undefined":_typeof(d))?(c=Object.keys(e.advice[t][n]).sort(),c.forEach(function(d){var a=e.advice[t][n][d];Array.isArray(a)&&a.length>0?s.push(d+": "+a.join("\n")+"\n"):s.push(d+": "+a+"\n")})):s.push(n+": "+d+"\n")});var r=s.join("\n");i.appendChild(document.createTextNode(r)),o.appendChild(i)}else{var l=e.advice[t],p=document.createElement("h3");p.appendChild(document.createTextNode(t+": "+l)),o.appendChild(p)}a.appendChild(o)}}),d.appendChild(a),t.appendChild(d);for(var s=document.getElementsByClassName("js-toggle"),r=0;r<s.length;r++)s[r].addEventListener("click",function(e){var t=closest(e.target,"js-toggle");t.classList.toggle("is-visible"),t.classList.contains("is-visible")?t.nextElementSibling.style.display="":t.nextElementSibling.style.display="none"},!0)}function createScore(e){var t=document.createElement("span");return t.classList.add("score-box"),colourScore(t,e),t.appendChild(document.createTextNode(e)),t}function colourScore(e,t){100===t&&e.classList.add("is-unicorn"),t>75?e.classList.add("is-good"):t>50?e.classList.add("is-ok"):e.classList.add("is-bad")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};document.getElementsByClassName("js-analyse")[0].addEventListener("click",function(e){chrome.runtime.sendMessage({command:"init",tabId:chrome.devtools.tabId},function(t){e.target.innerText="Re-Analyse",outputResults(t)})},!1);var closest=function(e,t){for(;!e.classList.contains(t);)if(e=e.parentNode,!e)return null;return e};