"use strict";function Console(){}function outputResults(e){Console.log(e);var t=document.createDocumentFragment(),o=document.createDocumentFragment();delete e.advice.score;var n=Object.keys(e.advice).sort();n.forEach(function(n){var d,c;if(e.advice[n].adviceList)d=document.createElement("h2"),d.appendChild(document.createTextNode(n+" ("+e.advice[n].score+"/100)")),colourScore(d,e.advice[n].score),t.appendChild(d),c=Object.keys(e.advice[n].adviceList).sort(),c.forEach(function(o){var d=e.advice[n].adviceList[o],c=document.createElement("h3");c.appendChild(document.createTextNode(d.title+" ("+d.score+"/100)")),colourScore(c,d.score),t.appendChild(c);var a=document.createElement("p");a.appendChild(document.createTextNode(d.advice)),t.appendChild(a);var r=document.createElement("p");if(r.appendChild(document.createTextNode(d.description)),t.appendChild(r),d.offending.length>0){var s=document.createElement("h4");s.appendChild(document.createTextNode("Offending Areas")),t.appendChild(s);var i=document.createElement("pre"),l=d.offending.join("\n");i.appendChild(document.createTextNode(l)),t.appendChild(i)}});else if(d=document.createElement("h2"),d.appendChild(document.createTextNode(n.toString())),o.appendChild(d),"object"===_typeof(e.advice[n]))c=Object.keys(e.advice[n]).sort(),c.forEach(function(t){var d=e.advice[n][t],c=document.createElement("h3");c.appendChild(document.createTextNode(t+": "+d)),o.appendChild(c)});else{var a=e.advice[n],r=document.createElement("h3");r.appendChild(document.createTextNode(n+": "+a)),o.appendChild(r)}}),t.appendChild(o),$results.appendChild(t)}function colourScore(e,t){t>75?e.className+="is-good":t>50?e.className+="is-ok":e.className+="is-bad"}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Console.Type={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",GROUP:"group",GROUP_COLLAPSED:"groupCollapsed",GROUP_END:"groupEnd"},Console.addMessage=function(e,t,o){chrome.runtime.sendMessage({command:"sendToConsole",tabId:chrome.devtools.tabId,args:escape(JSON.stringify(Array.prototype.slice.call(arguments,0)))})},function(){for(var e=Object.getOwnPropertyNames(Console.Type),t=0;t<e.length;++t){var o=Console.Type[e[t]];Console[o]=Console.addMessage.bind(Console,o)}}();var $results=document.getElementsByClassName("js-results")[0],$score=document.getElementsByClassName(".js-score")[0];document.getElementsByClassName("js-analyse")[0].addEventListener("click",function(){chrome.runtime.sendMessage({command:"init",tabId:chrome.devtools.tabId},function(e){$results.innerHTML="",outputResults(e)})},!1);